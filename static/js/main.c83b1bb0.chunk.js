(this["webpackJsonpread-my-mind"]=this["webpackJsonpread-my-mind"]||[]).push([[0],{23:function(e,t,a){e.exports=a(40)},28:function(e,t,a){},30:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),o=(a(28),a(29),a(30),a(5)),s=a(22),i=a(10);const u=Object(i.createAction)("resetState")(),m=Object(i.createAction)("resetStateModal")(),p=Object(i.createAction)("battleOpponent")(),h=Object(i.createAction)("changeOpponent")(),d=Object(i.createAction)("incrementOpponent")(),E=Object(i.createAction)("decrementOpponent")(),w=Object(i.createAction)("switchViewToBasic")(),b=Object(i.createAction)("switchViewToGame")(),g=Object(i.createAction)("switchViewToIntro")(),y=Object(i.createAction)("resetOpponent")();let k=function(e){return e[e.Rock=0]="Rock",e[e.Paper=1]="Paper",e[e.Scissors=2]="Scissors",e}({}),f=function(e){return e.Win="ResultWin",e.Draw="ResultDraw",e.Loss="ResultLoss",e}({});const v={wins:0,draws:0,losses:0,score:0},C={current:v,best:v,rounds:0};let O=function(e){return e.Intro="AppViewIntro",e.Basic="AppViewBasic",e.BasicWithModal="AppViewBasicWithModal",e.Game="AppViewGame",e}({});function R(e){switch(e){case k.Rock:return k.Paper;case k.Paper:return k.Scissors;case k.Scissors:return k.Rock;default:throw new Error("Enum switch")}}function S(e,t,a){const n=e+t+a,r=Math.random()*n;return r<e?k.Rock:r<e+t?k.Paper:k.Scissors}function j(){return S(1,1,1)}const A={wins:0,draws:0,losses:0,score:0};function I(e,t){const a=function(e,t){switch(t){case f.Win:return{...e,wins:e.wins+1,score:e.score+1};case f.Draw:return{...e,draws:e.draws+1,score:e.score+.5};case f.Loss:return{...e,losses:e.losses+1};default:throw new Error("Switching enum")}}(e.current,t);return function(e){return e.best.score<e.current.score?{...e,best:{...e.current}}:e}({...e,current:a,rounds:e.rounds+1})}function W(e){return q[e]}function B(e){return e.games[e.activeGameId]}function G(e){return W(B(e).opponentId)}function P(e,t){return e.reduce((e,a)=>e+(a.opponent===t?1:0),0)}function M(e,t){const a=function(e,t){switch((e-t+3)%3){case 0:return f.Draw;case 1:return f.Win;case 2:return f.Loss;default:throw Error("WRONG REMAINDER")}}(e,t);return n=>{const r=[...n.history,{me:e,opponent:t,result:a}],l=I(n.stats,a);return{opponentId:n.opponentId,history:r,stats:l}}}function V(e){return{...e,history:[],stats:(t=e.stats,{...t,current:A})};var t}function D(e,t,a){return e.map((e,n)=>n===t?a(e):e)}var L=a(9);const x={name:"Alan the Almighty",icon:L.c,generateWeapon:e=>0===e.length?j():e[0].opponent,par:19.5},N={name:"Beatrice the Brutal",icon:L.g,generateWeapon:e=>0===e.length?j():R(e[e.length-1].me),par:19.5},T={name:"Cedric the Confused",icon:L.l,generateWeapon:e=>e.length%2===0?j():e[e.length-1].opponent,par:14.75},F={name:"Damian the Delicious",icon:L.b,generateWeapon:e=>{if(0===e.length)switch(j()){case k.Rock:F.state=[0,1,1];break;case k.Paper:F.state=[1,0,1];break;case k.Scissors:F.state=[1,1,0]}return S(F.state[0],F.state[1],F.state[2])},state:[0,0,0],par:14.75},H={name:"Edward the Educated",icon:L.e,generateWeapon:e=>{const t=e.reduce((e,t)=>{switch(t.result){case f.Draw:return e;case f.Win:return{...e,[t.me]:e[t.me]+1};case f.Loss:return{...e,[t.opponent]:e[t.opponent]+1};default:throw new Error("Switching enum")}},{[k.Rock]:0,[k.Paper]:0,[k.Scissors]:0}),a=Math.max(...Object.values(t));if(0===a)return j();const n=e=>e===a?a:0;return S(n(t[k.Rock]),n(t[k.Paper]),n(t[k.Scissors]))},par:15},J={name:"Florian the Fallen",icon:L.a,generateWeapon:()=>j(),par:11},Y={name:"Gregory the Generous",icon:L.d,generateWeapon:e=>{if(0===e.length)switch(j()){case k.Rock:F.state=[2,1,1];break;case k.Paper:F.state=[1,2,1];break;case k.Scissors:F.state=[1,1,2]}return S(F.state[0],F.state[1],F.state[2])},state:[0,0,0],par:12.5},z={name:"Hugo the Hilarious",icon:L.f,generateWeapon:e=>{if(0===e.length)return j();return R(R(S(P(e,k.Rock),P(e,k.Paper),P(e,k.Scissors))))},par:2/3*20},q=[x,N,T,F,H,J,Y,z],$={games:q.map((e,t)=>({opponentId:t,history:[],stats:C})),activeGameId:0,activeView:O.Intro},K=Object(i.createReducer)($).handleAction(u,e=>({...$})).handleAction(m,e=>({...e,activeView:O.BasicWithModal})).handleAction(p,(e,t)=>{const a=W((n=e.games[e.activeGameId]).opponentId).generateWeapon(n.history);var n;const r=D(e.games,e.activeGameId,M(t.payload,a));return{...e,games:r}}).handleAction(h,(e,t)=>({...e,activeGameId:(t.payload+e.games.length)%e.games.length})).handleAction(d,e=>K(e,h(e.activeGameId+1))).handleAction(E,e=>K(e,h(e.activeGameId-1))).handleAction(w,e=>({...e,activeView:O.Basic})).handleAction(g,e=>({...e,activeView:O.Intro})).handleAction(b,(e,t)=>({...e,activeView:O.Game,activeGameId:t.payload})).handleAction(y,e=>({...e,games:D(e.games,e.activeGameId,V)})),Q=localStorage.getItem("reduxState"),U=Object(s.a)(K,Q?JSON.parse(Q):$);U.subscribe(()=>localStorage.setItem("reduxState",JSON.stringify(U.getState())));var X=a(12),Z=a(7),_=a(19),ee=a(14);const te=e=>{let{par:t,score:a,total:n}=e;const l=a>=t?{backgroundColor:"LightGreen"}:{};return r.a.createElement("th",{style:l},a," / ",n)},ae=Object(o.b)(e=>({stats:B(e).stats,par:G(e).par}))(e=>{let{stats:t,par:a}=e;return r.a.createElement(ee.a,{bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total Rounds: ",t.rounds," "),r.a.createElement("th",null,"Wins"),r.a.createElement("th",null,"Losses"),r.a.createElement("th",null,"Draws"),r.a.createElement("th",null,"Score"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"Current")),r.a.createElement("th",null,t.current.wins),r.a.createElement("th",null,t.current.losses),r.a.createElement("th",null,t.current.draws),r.a.createElement(te,{par:a,score:t.current.score,total:20})),r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"Best")),r.a.createElement("th",null,t.best.wins),r.a.createElement("th",null,t.best.losses),r.a.createElement("th",null,t.best.draws),r.a.createElement(te,{par:a,score:t.best.score,total:20}))))});var ne=a(8),re=a(13);const le=e=>{let{weapon:t}=e;const a=t===k.Rock?L.i:t===k.Paper?L.h:L.j;return r.a.createElement("span",null,r.a.createElement(re.a,{icon:a})," ",function(e){switch(e){case k.Rock:return"Rock";case k.Paper:return"Paper";case k.Scissors:return"Scissors";default:throw new Error("Switching enum")}}(t))},ce={margin:"10px"},oe=e=>{let{weapon:t,onClick:a,disabled:n,variant:l}=e;return r.a.createElement(ne.a,{style:ce,variant:l,size:"lg",onClick:a(t),disabled:n},r.a.createElement(le,{weapon:t}))},se=Object(o.b)(e=>{return{isFinished:(t=e.games[e.activeGameId],t.history.length>=20||t.stats.rounds>=100)};var t},e=>({onClick:t=>()=>e(p(t))}))(e=>{let{isFinished:t,onClick:a}=e;return r.a.createElement(X.a,null,r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(oe,{variant:"danger",weapon:k.Rock,onClick:a,disabled:t}),r.a.createElement(oe,{variant:"success",weapon:k.Paper,onClick:a,disabled:t}),r.a.createElement(oe,{variant:"primary",weapon:k.Scissors,onClick:a,disabled:t})))}),ie={margin:"10px"},ue=Object(o.b)(null,e=>({onClickNext:()=>e(d()),onClickPrevious:()=>e(E()),onClickReset:()=>e(y()),onClickBack:()=>e(w())}))(e=>{let{onClickNext:t,onClickBack:a,onClickPrevious:n,onClickReset:l}=e;return r.a.createElement(X.a,null,r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(ne.a,{style:ie,variant:"secondary",onClick:n},"Previous Opponent"),r.a.createElement(ne.a,{style:ie,variant:"secondary",onClick:t},"Next Opponent")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(ne.a,{style:ie,variant:"info",onClick:l},"Reset Game"),r.a.createElement(ne.a,{style:ie,variant:"info",onClick:a},"Back to summary")))}),me=e=>{let{weapon:t}=e;const a=t===k.Rock?"red":t===k.Paper?"green":"blue";return r.a.createElement("th",{style:{color:a}},r.a.createElement(le,{weapon:t}))},pe=e=>{let{result:t}=e;const a=t===f.Win?"LightGreen":t===f.Draw?"PaleGoldenRod":"Tomato";return r.a.createElement("th",{style:{backgroundColor:a}},function(e){switch(e){case f.Win:return"Win";case f.Loss:return"Loss";case f.Draw:return"Draw";default:throw new Error("Switching enum")}}(t))},he=Object(o.b)(e=>({history:e.games[e.activeGameId].history}))(e=>{let{history:t}=e;return r.a.createElement(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Me"),r.a.createElement("th",null,"Opponent"),r.a.createElement("th",null,"Result"))),r.a.createElement("tbody",null,(a=20,Array.from({length:a}).map((e,t)=>t)).map(e=>e<t.length?r.a.createElement("tr",null,r.a.createElement("th",null,e+1),r.a.createElement(me,{weapon:t[e].me}),r.a.createElement(me,{weapon:t[e].opponent}),r.a.createElement(pe,{result:t[e].result})):r.a.createElement("tr",null,r.a.createElement("th",null,e+1),r.a.createElement("th",null," "),r.a.createElement("th",null," "),r.a.createElement("th",null," ")))));var a}),de=e=>{let{opponent:t}=e;return r.a.createElement("span",null,r.a.createElement(re.a,{icon:t.icon})," ",t.name)},Ee=Object(o.b)(e=>({opponent:G(e)}))(e=>{let{opponent:t}=e;return r.a.createElement(X.a,null,r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement("h1",null,r.a.createElement(de,{opponent:t}))),r.a.createElement(Z.a,null,r.a.createElement(_.a,null,r.a.createElement(ae,null),r.a.createElement(ue,null),r.a.createElement("hr",null),r.a.createElement(se,null)),r.a.createElement(_.a,null,r.a.createElement(he,null))))});var we=a(15);const be=Object(o.b)(e=>({allStats:e.games.map(e=>e.stats),allOpponents:e.games.map(e=>W(e.opponentId)),showModal:e.activeView===O.BasicWithModal}),e=>({onClickPlay:t=>()=>e(b(t)),onClickModal:()=>e(m()),onClickReset:()=>e(u()),onHide:()=>e(w())}))(e=>{let{allStats:t,allOpponents:a,onClickPlay:n,onClickReset:l,onClickModal:c,showModal:o,onHide:s}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{bordered:!0,striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Opponent"),r.a.createElement("th",null,"Best Wins"),r.a.createElement("th",null,"Best Losses"),r.a.createElement("th",null,"Best Draws"),r.a.createElement("th",null,"Best Score"),r.a.createElement("th",null,"Total Rounds"),r.a.createElement("th",null,r.a.createElement(ne.a,{variant:"danger",onClick:c,style:{margin:"auto",display:"block"}},r.a.createElement(re.a,{icon:L.m}))))),r.a.createElement("tbody",null,t.map((e,t)=>r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(de,{opponent:a[t]})),r.a.createElement("th",null,e.best.wins),r.a.createElement("th",null,e.best.losses),r.a.createElement("th",null,e.best.draws),r.a.createElement(te,{par:a[t].par,score:e.best.score,total:20}),r.a.createElement("th",null,e.rounds," / ",100),r.a.createElement("th",null,r.a.createElement(ne.a,{style:{margin:"auto",display:"block"},variant:"primary",onClick:n(t),disabled:e.rounds>=100},r.a.createElement(re.a,{icon:L.k}))))),r.a.createElement("tr",{style:{backgroundColor:"PaleTurquoise"}},r.a.createElement("th",null,r.a.createElement("b",null,"Sum")),r.a.createElement("th",null,r.a.createElement("b",null,t.reduce((e,t)=>t.best.wins+e,0))),r.a.createElement("th",null,r.a.createElement("b",null,t.reduce((e,t)=>t.best.losses+e,0))),r.a.createElement("th",null,r.a.createElement("b",null,t.reduce((e,t)=>t.best.draws+e,0))),r.a.createElement(te,{score:t.reduce((e,t)=>t.best.score+e,0),total:20*t.length,par:a.reduce((e,t)=>t.par+e,0)}),r.a.createElement("th",null,r.a.createElement("b",null,t.reduce((e,t)=>t.rounds+e,0)," /"," ",100*t.length)),r.a.createElement("th",null)))),r.a.createElement(we.a,{show:o,onHide:s},r.a.createElement(we.a.Header,{closeButton:!0},r.a.createElement(we.a.Title,null,"Reset game")),r.a.createElement(we.a.Body,null,"This will reset your whole progress and start a new game, are you sure you want to proceed?"),r.a.createElement(we.a.Footer,null,r.a.createElement(ne.a,{variant:"secondary",onClick:s},"Cancel"),r.a.createElement(ne.a,{variant:"danger",onClick:l},"Reset Game"))))}),ge=Object(o.b)(null,e=>({onClick:()=>e(g())}))(e=>{let{onClick:t}=e;return r.a.createElement(X.a,null,r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement("h1",null,"Summary")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(be,null)),r.a.createElement(Z.a,{className:"d-flex justify-content-end"},r.a.createElement(ne.a,{variant:"secondary",onClick:t},"Back to Intro")))}),ye=Object(o.b)(null,e=>({onClick:()=>e(w())}))(e=>{let{onClick:t}=e;return r.a.createElement(X.a,null,r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement("h1",{style:{fontSize:40}},"Read My Mind")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement("p",null,"Welcome to a little game we call ",r.a.createElement("b",null,"Read My Mind"),". You will be playing a classic game of rock-paper-scissors against multiple opponents. You can play up to ",100," rounds against each of the opponents. Your goal is to get the best possible score in a match consisting of ",20," single games against each of these opponents."," "),r.a.createElement("p",null,"Each opponent has its own strategy, which is only using the previous rounds of your current match and also randomness. Pay close attention to what they are doing, as only by fully understanding their strategy you will be able to get the best possible scores.")),r.a.createElement(Z.a,null,r.a.createElement("p",null,"Now, let us proceed to the summary screen, from where you will be able to control the whole game.")),r.a.createElement(Z.a,{style:{justifyContent:"center"}},r.a.createElement(ne.a,{onClick:t},"I AM READY!")))}),ke=Object(o.b)(e=>({activeView:e.activeView}))(e=>{let{activeView:t}=e;switch(t){case O.Intro:return r.a.createElement(ye,null);case O.Basic:case O.BasicWithModal:return r.a.createElement(ge,null);case O.Game:return r.a.createElement(Ee,null);default:throw new Error("Switching enum")}});var fe=()=>r.a.createElement(o.a,{store:U},r.a.createElement("div",{className:"App"},r.a.createElement(ke,null)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.c83b1bb0.chunk.js.map